<h3> Orthoinference: Generating Reactome's Computationally Inferred Reactions and Pathways</h3>

This module has been rewritten from Perl to Java. This first iteration of orthoinference only contains the components of the orthoinference module that pertain to the <a href="https://github.com/reactome/Release/blob/master/scripts/release/orthoinference/infer_events.pl">infer_events.pl</a> script in the Release repository. While this contains the majority of code run for orthoinference, the rewrite of the <a href="https://github.com/reactome/Release/blob/master/scripts/release/orthoinference/tweak_datamodel.pl">tweak_datamodel.pl</a>, <a href="https://github.com/reactome/Release/blob/master/scripts/release/orthoinference/remove_unused_PE.pl">remove_unusued_PE.pl</a>, and <a href="https://github.com/reactome/Release/blob/master/scripts/release/orthoinference/updateDisplayName.pl">updateDisplayName.pl</a> modules will need to be completed for this to be considered a completed rewrite.

<h4> The Inference Process </h4>

In a nutshell, the inference process follows this workflow:

![alt text](https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/assets/OrthoinferenceOverview.png)

For each species, we take all Human <b>ReactionlikeEvents</b> (RlE) instances (<i>Reaction, BlackBoxEvent, Polymerisation, Depolymerisation, FailedReaction</i>) in the test_reactome database that was generated from the test_slice using the <a href="https://github.com/reactome/Release/blob/master/scripts/release/orthoinference/tweak_datamodel.pl">tweak_datamodel.pl</a> script. For each of these RlE instances, there are a few basic rules that must be followed for an inference to be attempted. It must pass a series of instance checks (found <a href="https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/orthoinference/src/main/java/org/reactome/orthoinference/SkipInstanceChecker.java">here</a>) and have at least 1 protein instance (determined using the <a href="https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/orthoinference/src/main/java/org/reactome/orthoinference/ProteinCountUtility.java">ProteinCountUtility</a>). 

If the RlE passes all these tests, it is considered <i>eligible</i> for inference. Inference is first attempted on the RlE's <b>input</b> and <b>output</b> attributes, followed by <b>catalyst</b> and <b>regulation</b> inference attempts. <u>If the input or output attributes can't be inferred, then the process is terminated for that RlE, since they are required components of any ReactionlikeEvent.</u> 
  
During inference, an attribute (input/output/catalyst/regulation) is broken down into it's individual <b>PhysicalEntity</b> (PE) instances. These PE instances are each run through the <a href="https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/orthoinference/src/main/java/org/reactome/orthoinference/OrthologousEntityGenerator.java">createOrthoEntity</a> method. This method determines whether the PE is a <i>GenomeEncodedentity/EntityWithAccessionedSequence, Complex/Polymer, EntitySet or SimpleEntity</i> and infers them accordingly. In cases where the PE itself contains multiple <i>GKInstance</i> attributes (eg: Complexes <i>hasComponent</i> attribute, EntitySets <i>hasMember</i> attribute), these too are run through the createOrthoEntity method and inferred. Typically, the PE instance will be recursively broken down until they reach the EntityWithAccessionedSequence (EWAS) level and are inferred in the <a href="https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/orthoinference/src/main/java/org/reactome/orthoinference/EWASInferrer.java">inferEWAS</a> method. Aside from the <i>createOrthoEntity</i> method, <i>inferEWAS</i> is likely the most heavily used. 

After all valid ReactionlikeEvents instances have been inferred for a species, the final step is to populate the <i>Pathway</i> instances these RlEs are found in. So-called <i>Pathway</i> 'inference' takes place in it's entirety in the <a href="https://github.com/reactome/data-release-pipeline/blob/feature/orthoinference/orthoinference/src/main/java/org/reactome/orthoinference/HumanEventsUpdater.java">HumanEventsUpdater</a> class, and involves creating the hierarchy structure from the Human Pathway equivalent. 
